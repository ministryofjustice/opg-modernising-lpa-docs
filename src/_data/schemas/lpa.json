{
    "$schema": "http://json-schema.org/draft-06/schema#",
    "$ref": "#/definitions/LPA",
    "definitions": {
        "LPA": {
            "type": "object",
            "description": "The main schema for the Lasting Power of Attorney Document.",
            "additionalProperties": false,
            "properties": {
                "id": {
                    "type": "string",
                    "format": "integer",
                    "description": "The LPA Documents unique identifier.",
                    "title": "The unique LPA identifier"
                },
                "type": {
                    "type": "string",
                    "format": "{health_welfare|property_finance}",
                    "description": "Is this a Health & Welfare or Property & Finance LPA.",
                    "title": "LPA Type (Health & Welfare or Property & Finance LPA)"
                },
                "preferences": {
                    "type": "string",
                    "maxLength": 900,
                    "description": "Any preferences on the LPA.",
                    "title": "Preferences on the LPA"
                },
                "instructions": {
                    "type": "string",
                    "maxLength": 900,
                    "description": "Any instructions on the LPA.",
                    "title": "Instructions on the LPA"
                },
                "donor": {
                    "$ref": "#/definitions/Donor",
                    "description": "The Donor on the LPA.",
                    "title": "Donor details for the LPA"
                },
                "witness": {
                    "$ref": "#/definitions/Witness",
                    "description": "The Witness for the LPA.",
                    "title": "Witness on the LPA"
                },
                "certificateProvider": {
                    "$ref": "#/definitions/CertificateProvider",
                    "description": "The Certificate Provider on the LPA.",
                    "title": "Certificate Provider on the LPA"
                },
                "attorney": {
                    "type": "array",
                    "title": "All attorney(s) on the LPA",
                    "description": "The Attorney(s) on the LPA.",
                    "items": {
                        "$ref": "#/definitions/Attorney"
                    }
                },
                "personToNotify": {
                    "type": "array",
                    "title": "Person(s) to Notify",
                    "description": "The Person(s) to Notify on the LPA.",
                    "items": {
                        "$ref": "#/definitions/PersonToNotify"
                    }
                }
            },
            "required": [
                "donor",
                "lpaid",
                "attorney"
            ],
            "title": "Lasting Power of Attorney"
        },
        "Donor": {
            "type": "object",
            "description": "The Donor.",
            "additionalProperties": false,
            "properties": {
                "actor": {
                    "$ref": "#/definitions/Actor"
                },
                "signature": {
                    "$ref": "#/definitions/Signature"
                }
            },
            "required": [
                "actor"
            ],
            "title": "Donor"
        },
        "Attorney": {
            "type": "object",
            "description": "The Attorney.",
            "additionalProperties": false,
            "properties": {
                "actor": {
                    "$ref": "#/definitions/Actor"
                },
                "signature": {
                    "$ref": "#/definitions/Signature"
                }
            },
            "required": [
                "actor"
            ],
            "title": "Attorney"
        },
        "Witness": {
            "type": "object",
            "description": "The Witness to the signing of the LPA.",
            "additionalProperties": false,
            "properties": {
                "actor": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Actor"
                    }
                },
                "signature": {
                    "$ref": "#/definitions/Signature"
                }
            },
            "required": [
                "actor"
            ],
            "title": "Witness"
        },
        "CertificateProvider": {
            "type": "object",
            "description": "The Certificate Provider on the LPA.",
            "additionalProperties": false,
            "properties": {
                "actor": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Actor"
                    }
                },
                "signature": {
                    "$ref": "#/definitions/Signature"
                }
            },
            "required": [
                "actor"
            ],
            "title": "Certificate Provider"
        },
        "PersonToNotify": {
            "type": "object",
            "description": "The Person to Notify.",
            "additionalProperties": false,
            "properties": {
                "actor": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Actor"
                    }
                }
            },
            "required": [
                "actor"
            ],
            "title": "Person To Notify"
        },
        "ReplacementAttorney": {
            "type": "object",
            "description": "The Replacement Attorney.",
            "additionalProperties": false,
            "properties": {
                "actor": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Actor"
                    }
                }
            },
            "required": [
                "actor"
            ],
            "title": "Replacement Attorney"
        },
        "Actor": {
            "type": "object",
            "description": "Generic Actor that can be inherited across definitions.",
            "additionalProperties": false,
            "properties": {
                "id": {
                    "title": "Actor unique identifier",
                    "description": "Identifies the Actor with a unique identifier.",
                    "type": "integer",
                    "format": "^[0-9]+$"
                },
                "title": {
                    "title": "Title",
                    "description": "The title given to an actor.",
                    "type": "string"
                },
                "firstNames": {
                    "title": "First Name",
                    "description": "The actors first name.",
                    "type": "string"
                },
                "lastName": {
                    "title": "Last Name",
                    "description": "The actors last name.",
                    "type": "string"
                },
                "otherNames": {
                    "title": "Other Names",
                    "description": "Any other names for the actor.",
                    "type": "string"
                },
                "dateOfBirth": {
                    "type": "integer",
                    "title": "Date of Birth",
                    "maxLength": 13,
                    "pattern": "^[0-9]{13}$",
                    "description": "A 13 digit timestamp. Must be over the age of 18."
                },
                "address": {
                    "title": "Address",
                    "description": "The full address of the Actor.",
                    "$ref": "#/definitions/Address"
                },
                "emailAddress": {
                    "title": "Email Address",
                    "description": "The email adress of the actor.",
                    "type": "string"
                }
            },
            "required": [
                "firstName",
                "id",
                "lastName",
                "address",
                "dateOfBirth"
            ],
            "title": "Actor"
        },
        "Address": {
            "type": "object",
            "description": "Generic address to be used across other definitions.",
            "additionalProperties": false,
            "properties": {
                "line1": {
                    "type": "string"
                },
                "line2": {
                    "type": "string"
                },
                "line3": {
                    "type": "string"
                },
                "line4": {
                    "type": "string"
                },
                "postCode": {
                    "type": "string"
                },
                "country": {
                    "type": "string"
                }
            },
            "required": [
                "line1",
                "postCode",
                "country"
            ],
            "title": "Address"
        },
        "Signature": {
            "type": "object",
            "description": "The Signature that defines the data points for recording a signature.",
            "additionalProperties": false,
            "properties": {
                "signature": {
                    "type": "string"
                },
                "date": {
                    "type": "string"
                }
            },
            "required": [
                "signature",
                "date"
            ],
            "title": "Signature"
        }
    }
}
