---
layout: layouts/fullwidth.njk
backLink: "/"
---
{%- from "../../node_modules/govuk-frontend/govuk/components/tag/macro.njk" import govukTag -%}
  {% from "../../node_modules/govuk-frontend/govuk/components/inset-text/macro.njk" import govukInsetText %}

<h1 class="govuk-heading-xl">LPA JSON Schema</h1>

<ul class="govuk-list govuk-list--bullet">
    <li>
        Schema: {{schemas.lpa.$schema}}
    </li>
    <li>
        Ref: {{schemas.lpa.$ref}}
    </li>
</ul>

<h2 class="govuk-heading-l">Definitions</h2>

{% for definitionName, definitionItem in schemas.lpa.definitions %}

  <h3 id="/definitions/{{ definitionName }}" class="govuk-heading-m">{{ definitionItem.title }}</h3>
  {{ govukInsetText({
    text: definitionItem.description
  }) }}

  {% for name, item in definitionItem %}

      <p class="govuk-body">
          {% if name === "properties" %}
            
            <h4 class="govuk-heading-s">{{ name }}</h4>
            <ul class="govuk-list govuk-list--bullet">
              {% for propertyName, propertyItem in item %}

                <li>
                    {{propertyName}}
                    {% if propertyName in definitionItem.required %}
                      {{ govukTag({
                        text: "required",
                        classes: 'govuk-tag--red'
                        })
                      }}
                    {% endif %}

                    <ul class="govuk-list govuk-list--bullet">
                      {% for propertyDetailName, propertyDetailItem in propertyItem %}
                        <li>
                          {% if propertyDetailName === "type" %}
                            Type: {{ govukTag({
                                text: propertyDetailItem,
                                classes: 'govuk-tag--green'
                                })
                              }}
                          {% endif %}
                          {% if propertyDetailName !== "type" %}

                            {% if propertyDetailName === "$ref" %}
                              {{propertyDetailName}}: <a class="govuk-link" href="{{propertyDetailItem}}">{{propertyDetailItem}}</a>
                            {% endif %}
                            {% if propertyDetailName !== "$ref" %}

                              {% if propertyDetailName === "items" %}
                                {{propertyDetailName}}
                                <ul class="govuk-list govuk-list--bullet">
                                  {% for itemArrayName, itemArrayNameItem in propertyDetailItem %}
                                    {% if itemArrayName === "$ref" %}
                                      <li>{{itemArrayName}}: <a class="govuk-link" href="{{itemArrayNameItem}}">{{itemArrayNameItem}}</a></li>
                                    {% endif %}
                                  {% endfor %}
                                </ul>

                              {% endif %}
                              {% if propertyDetailName !== "items" %}
                                {{propertyDetailName}}: {{propertyDetailItem}}
                              {% endif %}

                            {% endif %}

                          {% endif %}

                        </li>

                      {% endfor %}
                    </ul>

                </li>

              {% endfor %}
            </ul>

          {% endif %}

          {% if name === "type" %}
            Type: {{ govukTag({
                text: item,
                classes: 'govuk-tag--green'
                })
              }}
          {% endif %}

          {% if name === "additionalProperties" %}
            {% if item === true %}
              Schema accepts additional properties
            {% endif %}
            {% if item === false %}
              Schema <strong>does not accept</strong> additional properties
            {% endif %}
          {% endif %}
      </p>

  {% endfor %}

  <hr class="govuk-section-break govuk-section-break--l govuk-section-break--visible">
{% endfor %}
