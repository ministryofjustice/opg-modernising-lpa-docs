{
    "$schema": "http://json-schema.org/draft-06/schema#",
    "$ref": "#/definitions/LPA",
    "definitions": {
        "LPA": {
            "type": "object",
            "description": "The main schema for the Lasting Power of Attorney.",
            "additionalProperties": false,
            "properties": {
                "lpaid": {
                    "type": "string",
                    "format": "integer"
                },
                "donor": {
                    "$ref": "#/definitions/Donor"
                },
                "attorney": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Attorney"
                    }
                },
                "personToNotify": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/PersonToNotify"
                    }
                }
            },
            "required": [
                "donor",
                "lpaid",
                "attorney"
            ],
            "title": "Lasting Power of Attorney"
        },
        "Donor": {
            "type": "object",
            "description": "The Donor.",
            "additionalProperties": false,
            "properties": {
                "actor": {
                    "$ref": "#/definitions/Actor"
                }
            },
            "required": [
                "actor"
            ],
            "title": "Donor"
        },
        "Attorney": {
            "type": "object",
            "description": "The Attorney.",
            "additionalProperties": false,
            "properties": {
                "actor": {
                    "$ref": "#/definitions/Actor"
                }
            },
            "required": [
                "actor"
            ],
            "title": "Attorney"
        },
        "PersonToNotify": {
            "type": "object",
            "description": "The Person to Notify.",
            "additionalProperties": false,
            "properties": {
                "actor": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Actor"
                    }
                }
            },
            "required": [
                "actor"
            ],
            "title": "Person To Notify"
        },
        "Actor": {
            "type": "object",
            "description": "Generic Actor that can be inherited across definitions.",
            "additionalProperties": false,
            "properties": {
                "id": {
                    "type": "integer",
                    "format": "^[0-9]+$"
                },
                "firstNames": {
                    "type": "string"
                },
                "lastName": {
                    "type": "string"
                },
                "otherNames": {
                    "type": "string"
                },
                "dateOfBirth": {
                    "type": "string",
                    "title": "Date of Birth",
                    "maxLength": 13,
                    "pattern": "^[0-9]{13}$",
                    "description": "A 13 digit timestamp. Must be over the age of 18."
                },
                "address": {
                    "$ref": "#/definitions/Address"
                },
                "emailAddress": {
                    "type": "string"
                },
                "signature": {
                    "$ref": "#/definitions/Signature"
                }
            },
            "required": [
                "firstName",
                "id",
                "lastName",
                "address",
                "dateOfBirth"
            ],
            "title": "Actor"
        },
        "Address": {
            "type": "object",
            "description": "Generic address to be used across other definitions.",
            "additionalProperties": false,
            "properties": {
                "line1": {
                    "type": "string"
                },
                "line2": {
                    "type": "string"
                },
                "line3": {
                    "type": "string"
                },
                "line4": {
                    "type": "string"
                },
                "postCode": {
                    "type": "string"
                },
                "country": {
                    "type": "string"
                }
            },
            "required": [
                "line1",
                "postCode",
                "country"
            ],
            "title": "Address"
        },
        "Signature": {
            "type": "object",
            "description": "The Signature that defines the data points for recording a signature.",
            "additionalProperties": false,
            "properties": {
                "signature": {
                    "type": "string"
                },
                "date": {
                    "type": "string"
                }
            },
            "required": [
                "signature",
                "date"
            ],
            "title": "Signature"
        }
    }
}
